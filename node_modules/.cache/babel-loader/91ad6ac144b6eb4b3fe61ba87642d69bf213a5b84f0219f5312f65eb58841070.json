{"ast":null,"code":"import { actions } from \"./actions\";\nconst saveToLocalStorage = object => {\n  localStorage.setItem(\"items\", JSON.stringify(object));\n};\nconst initialState = {\n  items: JSON.parse(localStorage.getItem(\"items\")) != null ? JSON.parse(localStorage.getItem(\"items\")) : []\n};\nexport default function onlineStoreApp(state = initialState, action) {\n  switch (action.type) {\n    case actions.ADD_TO_CART:\n      return Object.assign({}, state, {\n        items: [...state.items, action.payload]\n      });\n    case actions.UPDATE_CART:\n      return Object.assign({}, state, {\n        items: state.items.map(item => {\n          return item.id === action.payload.id ? Object.assign({}, item, {\n            quantity: action.payload.quantity\n          }) : item;\n        })\n      });\n    case actions.REMOVE_FROM_CART:\n      console.log(state.items);\n      return Object.assign({}, state, {\n        items: state.items.filter(item => {\n          return item.id !== action.payload;\n        })\n      });\n    case actions.SAVE_CART:\n      saveToLocalStorage(action.payload.items);\n      return state;\n    case actions.RESET_CART:\n      saveToLocalStorage();\n      return Object.assign({}, state, {\n        items: []\n      });\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["actions","saveToLocalStorage","object","localStorage","setItem","JSON","stringify","initialState","items","parse","getItem","onlineStoreApp","state","action","type","ADD_TO_CART","Object","assign","payload","UPDATE_CART","map","item","id","quantity","REMOVE_FROM_CART","console","log","filter","SAVE_CART","RESET_CART"],"sources":["/Users/bordetisabelle/Documents/grocery-delivery-starter/starter-project/src/app/lib/reducers.js"],"sourcesContent":["import { actions } from \"./actions\"\n\nconst saveToLocalStorage = object => {\n    localStorage.setItem(\"items\", JSON.stringify(object))\n}\nconst initialState = {\n    items : JSON.parse(localStorage.getItem(\"items\")) != null ? JSON.parse(localStorage.getItem(\"items\")) : []\n}\n\nexport default function onlineStoreApp(state = initialState, action) {\n    switch (action.type) {\n        case actions.ADD_TO_CART : return Object.assign({}, state, { items: [...state.items, action.payload]})\n        case actions.UPDATE_CART : return Object.assign({}, state, { \n            items: state.items.map(item => {\n                return item.id === action.payload.id ? \n                    Object.assign({}, item, { \n                        quantity: action.payload.quantity \n                    }) : item;\n            })\n        });\n        case actions.REMOVE_FROM_CART : \n        console.log(state.items)\n        return Object.assign({}, state, {\n            items: state.items.filter(item => {\n                return item.id !== action.payload\n            })\n        })\n        case actions.SAVE_CART :\n        saveToLocalStorage(action.payload.items)\n        return state\n        case actions.RESET_CART :\n        saveToLocalStorage()\n        return Object.assign({}, state, {\n            items: []\n        }) \n        default : return state        \n    }\n}\n\n\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,WAAW;AAEnC,MAAMC,kBAAkB,GAAGC,MAAM,IAAI;EACjCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACJ,MAAM,CAAC,CAAC;AACzD,CAAC;AACD,MAAMK,YAAY,GAAG;EACjBC,KAAK,EAAGH,IAAI,CAACI,KAAK,CAACN,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,GAAGL,IAAI,CAACI,KAAK,CAACN,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG;AAC5G,CAAC;AAED,eAAe,SAASC,cAAcA,CAACC,KAAK,GAAGL,YAAY,EAAEM,MAAM,EAAE;EACjE,QAAQA,MAAM,CAACC,IAAI;IACf,KAAKd,OAAO,CAACe,WAAW;MAAG,OAAOC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEL,KAAK,EAAE;QAAEJ,KAAK,EAAE,CAAC,GAAGI,KAAK,CAACJ,KAAK,EAAEK,MAAM,CAACK,OAAO;MAAC,CAAC,CAAC;IACtG,KAAKlB,OAAO,CAACmB,WAAW;MAAG,OAAOH,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEL,KAAK,EAAE;QACvDJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACY,GAAG,CAACC,IAAI,IAAI;UAC3B,OAAOA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACK,OAAO,CAACI,EAAE,GAChCN,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEI,IAAI,EAAE;YACpBE,QAAQ,EAAEV,MAAM,CAACK,OAAO,CAACK;UAC7B,CAAC,CAAC,GAAGF,IAAI;QACjB,CAAC;MACL,CAAC,CAAC;IACF,KAAKrB,OAAO,CAACwB,gBAAgB;MAC7BC,OAAO,CAACC,GAAG,CAACd,KAAK,CAACJ,KAAK,CAAC;MACxB,OAAOQ,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEL,KAAK,EAAE;QAC5BJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACmB,MAAM,CAACN,IAAI,IAAI;UAC9B,OAAOA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACK,OAAO;QACrC,CAAC;MACL,CAAC,CAAC;IACF,KAAKlB,OAAO,CAAC4B,SAAS;MACtB3B,kBAAkB,CAACY,MAAM,CAACK,OAAO,CAACV,KAAK,CAAC;MACxC,OAAOI,KAAK;IACZ,KAAKZ,OAAO,CAAC6B,UAAU;MACvB5B,kBAAkB,CAAC,CAAC;MACpB,OAAOe,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEL,KAAK,EAAE;QAC5BJ,KAAK,EAAE;MACX,CAAC,CAAC;IACF;MAAU,OAAOI,KAAK;EAC1B;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}